---
title: "可折叠侧边栏"
description: "了解如何使用可折叠侧边栏功能优化阅读体验"
tags: ["界面", "导航", "侧边栏", "功能"]
category: "功能特性"
categoryId: 2
postId: 5
order: 5
date: "2024-01-06"
author: "UI 团队"
---

# 可折叠侧边栏

为了提供更好的阅读体验和屏幕空间利用，我们的文档系统支持可折叠的侧边栏功能。

## 功能特性

### 🎛️ 一键折叠

- **快速切换**：点击头部的折叠按钮即可隐藏/显示侧边栏
- **状态同步**：折叠状态在页面间保持
- **流畅动画**：平滑的展开/收起动画效果

### 📱 响应式设计

- **桌面端**：支持手动折叠/展开
- **移动端**：自动适配，使用抽屉式导航
- **平板端**：根据屏幕尺寸智能调整

### 🎨 视觉优化

- **空间节省**：折叠后释放更多阅读空间
- **视觉焦点**：减少干扰，专注内容阅读
- **美观设计**：与整体设计风格保持一致

## 使用方法

### 折叠侧边栏

1. 在页面头部"文档系统"文字左侧找到折叠按钮
2. 点击按钮折叠侧边栏
3. 侧边栏会平滑收起，释放阅读空间

### 展开侧边栏

1. 点击同一位置的展开按钮
2. 侧边栏会重新显示
3. 可以继续使用导航功能

### 快捷操作

- **按钮位置**：位于头部导航栏，方便访问
- **图标指示**：清晰的图标显示当前状态
- **悬停提示**：鼠标悬停显示操作提示

## 适用场景

### 专注阅读

当您需要专注阅读长篇文档时：

- 折叠侧边栏获得更大阅读区域
- 减少视觉干扰
- 提升阅读体验

### 宽屏显示

在大屏幕设备上：

- 可以选择保持展开状态
- 利用充足的屏幕空间
- 同时显示导航和内容

### 移动设备

在移动设备上：

- 系统自动使用抽屉式导航
- 不占用宝贵的屏幕空间
- 保持良好的触控体验

## 技术实现

### 状态管理

使用自定义事件在组件间通信：

\`\`\`typescript
// 发送折叠事件
window.dispatchEvent(new CustomEvent('sidebar-toggle', { 
  detail: { isCollapsed: !isCollapsed } 
}))

// 监听折叠事件
useEffect(() => {
  const handleSidebarToggle = (event: CustomEvent) => {
    setIsCollapsed(event.detail.isCollapsed)
  }

  window.addEventListener('sidebar-toggle', handleSidebarToggle)
  return () => window.removeEventListener('sidebar-toggle', handleSidebarToggle)
}, [])
\`\`\`

### 动画效果

使用 CSS 过渡实现平滑动画：

\`\`\`css
.sidebar {
  transition: width 0.3s ease-in-out;
  width: 16rem; /* 展开状态 */
}

.sidebar.collapsed {
  width: 0; /* 折叠状态 */
  overflow: hidden;
}
\`\`\`

### 响应式适配

\`\`\`css
@media (max-width: 1024px) {
  .sidebar-toggle {
    display: none; /* 移动端隐藏折叠按钮 */
  }
  
  .mobile-sidebar {
    display: block; /* 显示移动端导航 */
  }
}
\`\`\`

## 界面布局

### 头部导航栏

折叠按钮现在位于头部导航栏中：

\`\`\`
[折叠按钮] [图标] 文档系统                    [主题切换]
\`\`\`

### 按钮样式

- **位置**：紧邻"文档系统"文字左侧
- **大小**：与其他头部按钮保持一致
- **样式**：Ghost 风格，悬停时显示背景
- **图标**：使用 PanelLeft/PanelLeftClose 图标

## 用户体验优化

### 视觉一致性

- 按钮样式与头部其他按钮保持一致
- 图标大小和颜色统一
- 悬停效果和过渡动画流畅

### 交互反馈

- 清晰的悬停状态
- 即时的视觉反馈
- 合理的动画时长

### 无障碍支持

- 添加适当的 title 属性
- 支持键盘导航
- 屏幕阅读器友好

## 最佳实践

### 设计原则

1. **一致性**：与整体设计风格保持一致
2. **可发现性**：按钮位置明显易找
3. **反馈性**：提供清晰的状态反馈

### 实现建议

1. **事件通信**：使用自定义事件在组件间通信
2. **状态同步**：确保按钮状态与侧边栏状态同步
3. **性能优化**：避免不必要的重渲染

### 测试要点

1. **功能测试**：折叠/展开功能正常
2. **状态同步**：按钮状态与侧边栏状态一致
3. **响应式测试**：各种屏幕尺寸下的表现

通过将折叠按钮集成到头部导航栏，我们提供了更加直观和一致的用户体验。
