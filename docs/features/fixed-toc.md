---
title: "固定目录导航"
description: "了解如何使用固定在屏幕右侧的目录导航功能"
tags: ["目录", "导航", "固定", "UI"]
category: "功能特性"
categoryId: 2
postId: 6
order: 6
date: "2024-01-08"
author: "UI 团队"
---

# 固定目录导航

我们的文档系统现在支持固定在屏幕右侧的目录导航，让您在阅读长文档时始终能够快速跳转到任意章节。

## 🎯 主要特性

### 📌 固定位置
- **屏幕右侧固定**：目录始终固定在屏幕右侧，不会随页面滚动消失
- **智能层级**：使用合适的 z-index 确保目录在其他内容之上
- **响应式设计**：在不同屏幕尺寸下自动适配

### 🎛️ 智能控制
- **一键切换**：点击切换按钮可以显示/隐藏目录
- **移动端优化**：小屏幕设备上默认隐藏，点击显示时有遮罩层
- **状态记忆**：在同一会话中记住用户的显示偏好

### 🎨 视觉优化
- **毛玻璃效果**：使用 backdrop-blur 实现现代化的毛玻璃背景
- **活跃指示**：当前章节有明显的视觉指示
- **平滑动画**：显示/隐藏时的平滑过渡动画

## 🚀 使用方法

### 显示/隐藏目录

1. **切换按钮**：点击屏幕右侧的切换按钮
   - 📋 显示目录时显示列表图标
   - ❌ 隐藏目录时显示关闭图标

2. **移动端操作**：
   - 点击按钮显示目录
   - 点击遮罩层或关闭按钮隐藏目录

### 导航操作

1. **章节跳转**：点击任意章节标题快速跳转
2. **多级导航**：支持 H1-H6 多级标题的层级显示
3. **当前位置**：自动高亮当前阅读的章节

## 🎨 界面设计

### 布局结构

\`\`\`
┌─────────────────────────────────────┬─────────────┐
│                                     │             │
│           主要内容区域                │   固定目录   │
│                                     │             │
│  ┌─────────────────────────────┐    │  ┌────────┐ │
│  │        文档标题              │    │  │ 目录导航 │ │
│  │        文档内容              │    │  │        │ │
│  │        ...                  │    │  │ • 章节1 │ │
│  │                             │    │  │ • 章节2 │ │
│  └─────────────────────────────┘    │  │ • 章节3 │ │
│                                     │  └────────┘ │
└─────────────────────────────────────┴─────────────┘
\`\`\`

### 视觉层级

1. **切换按钮**：z-index: 50，最高优先级
2. **目录面板**：z-index: 40，在内容之上
3. **遮罩层**：z-index: 30，移动端使用

### 响应式适配

- **桌面端 (≥1280px)**：目录默认显示，主内容右边距 320px
- **平板端 (768px-1279px)**：目录默认隐藏，显示时覆盖内容
- **移动端 (<768px)**：目录默认隐藏，显示时全屏覆盖

## 🔧 技术实现

### 固定定位

\`\`\`css
.toc-panel {
  position: fixed;
  top: 3.5rem; /* 头部高度 */
  right: 0;
  height: calc(100vh - 3.5rem);
  width: 18rem; /* 288px */
  z-index: 40;
}
\`\`\`

### 平滑动画

\`\`\`css
.toc-panel {
  transition: transform 0.3s ease-in-out;
  transform: translateX(0); /* 显示状态 */
}

.toc-panel.hidden {
  transform: translateX(100%); /* 隐藏状态 */
}
\`\`\`

### 毛玻璃效果

\`\`\`css
.toc-panel {
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}
\`\`\`

## 📱 移动端优化

### 触摸友好

- **大触摸目标**：按钮和链接有足够的点击区域
- **手势支持**：支持滑动手势（未来版本）
- **防误触**：合理的间距避免误操作

### 性能优化

- **条件渲染**：移动端按需渲染目录内容
- **事件优化**：使用防抖处理滚动事件
- **内存管理**：及时清理事件监听器

## 🎯 用户体验

### 直观操作

1. **一目了然**：切换按钮位置固定，易于发现
2. **即时反馈**：点击后立即显示/隐藏，无延迟
3. **状态清晰**：按钮图标明确表示当前状态

### 阅读体验

1. **不干扰阅读**：目录不会遮挡主要内容
2. **快速导航**：一键跳转到任意章节
3. **位置感知**：始终知道当前阅读位置

### 个性化

1. **用户偏好**：记住用户的显示偏好
2. **自适应**：根据设备类型自动调整
3. **可定制**：未来支持更多个性化选项

## 🔄 交互流程

### 桌面端流程

\`\`\`
用户访问文档页面
    ↓
目录自动显示在右侧
    ↓
用户可以点击切换按钮隐藏
    ↓
再次点击可以重新显示
\`\`\`

### 移动端流程

\`\`\`
用户访问文档页面
    ↓
目录默认隐藏
    ↓
点击切换按钮显示目录
    ↓
点击遮罩层或关闭按钮隐藏
\`\`\`

## 🚀 未来改进

### 短期计划

1. **手势支持**：添加滑动手势控制
2. **快捷键**：键盘快捷键显示/隐藏目录
3. **主题适配**：更好的暗色主题支持

### 长期计划

1. **智能折叠**：根据章节长度智能折叠
2. **阅读进度**：显示整体阅读进度
3. **书签功能**：标记重要章节

## 📊 性能指标

### 加载性能

- **首次渲染**：< 100ms
- **切换动画**：300ms 平滑过渡
- **滚动响应**：< 16ms (60fps)

### 内存使用

- **基础占用**：< 1MB
- **事件监听**：自动清理，无内存泄漏
- **DOM 节点**：按需创建，及时销毁

通过固定目录导航功能，用户可以在阅读长文档时始终保持良好的导航体验，快速定位到感兴趣的内容。
